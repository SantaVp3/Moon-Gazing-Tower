# 自动巡航 (Automatic Cruise)

自动巡航是 Moon-Gazing-Tower 的核心功能之一，它允许用户设置定时任务，对指定目标进行周期性的安全扫描。

## 功能特性

- **定时调度**: 支持 Cron 表达式，精确控制扫描时间（如每天凌晨 2 点）。
- **周期性监控**: 持续监控目标资产的安全状态，及时发现新出现的漏洞。
- **灵活配置**: 可复用现有的扫描配置，支持全量扫描、子域名扫描等多种模式。
- **自动通知**: 任务完成或发现漏洞时，自动通过邮件、Webhook 等渠道发送通知。
- **历史记录**: 完整记录每次巡航的执行结果、成功/失败状态及发现的问题。

## 创建巡航任务

### 1. 基本信息
- **名称**: 巡航任务的名称。
- **描述**: 任务的详细描述。

### 2. 定时配置
- **Cron 表达式**: 使用标准的 Cron 语法设置执行周期。
  - `0 0 * * *`: 每天午夜执行
  - `0 2 * * 1`: 每周一凌晨 2 点执行
  - `0 */4 * * *`: 每 4 小时执行一次
- **时区**: 设置执行时间的时区（默认为服务器时区）。

### 3. 扫描目标
- **目标类型**: 支持 IP、域名、URL、CIDR 等。
- **目标列表**: 输入需要巡航的目标。

### 4. 扫描配置
选择扫描模式和具体参数：
- **全量扫描**: 包含子域名、端口、漏洞等所有模块。
- **子域名监控**: 仅监控子域名变化。
- **端口监控**: 仅监控端口开放情况。

### 5. 通知配置
- **完成后通知**: 无论是否有漏洞，任务结束即发送通知。
- **发现漏洞时通知**: 仅在发现新漏洞时发送通知（推荐）。
- **通知渠道**: 选择接收通知的方式（邮件、钉钉、企业微信等）。

## 任务管理

- **启用/禁用**: 随时暂停或恢复巡航任务。
- **立即执行**: 手动触发一次巡航任务，不影响定时计划。
- **查看日志**: 查看每次执行的详细日志和结果。

## 最佳实践

1. **错峰扫描**: 将高负载的扫描任务安排在业务低峰期（如凌晨）。
2. **增量监控**: 对于大型资产，建议配置高频的子域名/端口监控，配合低频的全量漏洞扫描。
3. **告警分级**: 配置不同的通知策略，高危漏洞通过即时通讯工具通知，普通报告通过邮件发送。
